<h1 id="tableLabel">Publishers</h1>
<hr>

<ng-container *ngIf="createForm$ | async as form">
    <div class="form-outline mb-4">
        <label class="form-label" for="name">Name</label>
        <input [(ngModel)]="form.name" type="text" id="name" name="name" style="margin-left: 10px; margin-right: 10px"/>
        <label class="form-label" for="email">Email</label>
        <input [(ngModel)]="form.email" type="text" id="email" name="email" style="margin-left: 10px; margin-right: 10px"/>
        <label class="form-label" for="site">Site</label>
        <input [(ngModel)]="form.site" type="text" id="site" name="site" style="margin-left: 10px; margin-right: 10px"/>
        <button class="btn btn-primary btn-block" style="margin-left: 10px" (click)="createSubject$.next(form)">Create</button>
    </div>
</ng-container>

<ng-container *ngIf="publishers$ | async as publishers" >
    <table class='table table-striped' aria-labelledby="tableLabel">
        <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Site</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let publisher of publishers">
            <td>{{ publisher.id }}</td>
            <td><input [(ngModel)]="publisher.name" type="text" name="name"/></td>
            <td><input [(ngModel)]="publisher.email" type="text" name="email"/></td>
            <td><input [(ngModel)]="publisher.site" type="text" name="site"/></td>
            <td>
                <button type="button" class="btn btn-primary" (click)="editSubject$.next(publisher)">Edit</button>
                <button type="button" class="btn btn-danger" style="margin-left: 10px" (click)="deleteSubject$.next(publisher.id)">Delete</button></td>
        </tr>
        </tbody>
    </table>
</ng-container>